<script
  src="https://code.jquery.com/jquery-3.6.1.js"
  integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI="
  crossorigin="anonymous"></script>

<link rel="stylesheet" 
href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" 
integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" 
crossorigin="anonymous">

<style>
    th{
        color: #fff;
    }
</style>

<table class="table table-striped">
    <tr class="bg-info">
        <th>Pieprasījuma informācija</th>
        <th>Darbība Nr. 1</th>
        <th>Darbība Nr. 2</th>
        <th>Darbība Nr. 3</th>
    </tr>

    <tbody id="ordersTable">

    </tbody>
</table>

<script>
    var oderArray = [
        {'Piepr':'Datora Komplektēšana: 20.09.2022, Roberts Buks',
         'Darb1':'Skatīt detaļas', 
         'Darb2':'Atsūtīt vēstuli',
         'Darb3':'Amainīt statusu'},
         {'Piepr':'Datora Komplektēšana: 15.11.2012, Jana Vīgupe',
         'Darb1':'Skatīt detaļas', 
         'Darb2':'Atsūtīt vēstuli',
         'Darb3':'Amainīt statusu'},
         {'Piepr':'Datora Komplektēšana: 15.11.2012, Jana Vīgupe',
         'Darb1':'Skatīt detaļas', 
         'Darb2':'Atsūtīt vēstuli',
         'Darb3':'Amainīt statusu'}
    ]

    buildTable(oderArray)

    var j = 0;

    function buildTable(data){
        var table = document.getElementById('ordersTable')

        for(i = 0; i < data.length; i++) {
            var row = `<tr>
                    <td>${data[i].Piepr}</td>
                    <td> 
                        <a onclick='openDescription(j)' href="#" id=${i}>${data[i].Darb1}</a>
                    </td>
                    <td>${data[i].Darb2}</td>
                    <td>${data[i].Darb3}</td>
                </tr>`    
            j++;
            //table[i].Darb1.getElementById();
            //console.log('Row value: ' + row);
            table.innerHTML += row    
            //const el = document.getElementById(data[i].Darb1);
            //console.log('element: ' + data[i].Darb1);
            //row.addEventListener("click", openDescription, false);
        }
    }

    function openDescription(row) {
        //console.log('Row clicked: ' + row);
    }


    // Create event listener
document.addEventListener('click', (e) =>
  {
    // Retrieve id from clicked element
    let elementId = e.target.id;
    // If element has id
    if (elementId !== '') {
        console.log(elementId);
    }
    // If element has no id
    else { 
        console.log("An element without an id was clicked.");
    }
  }
);
</script>